<ul class="list-group list-group-flush">
    {% for item in items %}
    <li class="list-group-item"><b>{{ item.verb }} {{ item.preposition }}:</b></li>
    <table class="table table-hover">
        <thead>
        </thead>
        <tbody>
        {% for f_item in item.features %}
        <tr>
            <td>{{ f_item.features }}</td>
            {% set nouns = f_item.nouns.split(", ") %}
            {% set number_of_nouns = nouns|length %}
            {% if number_of_nouns > 30 %}
            <td class="nouns">{{ nouns[:20]|join(", ") }}
                <span class="dots">...</span>
                <span class="more">{{ nouns[20:]|join(", ") }}</span>
                <button class="moreLessButton">Показать ещё</button>
            </td>
            {% else %}
            <td>{{ nouns|join(", ") }}</td>
            {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endfor %}
</ul>
